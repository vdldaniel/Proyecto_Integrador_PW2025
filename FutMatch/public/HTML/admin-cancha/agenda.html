<!--
Manejo de la agenda del Admin de Cancha:
- FILTRA POR CANCHA (debe seleccionar una cancha para ver su agenda)
- Ver la agenda de reservas de la cancha
- Vista semanal y diaria
- PUEDE APARECER SOLICITUDES PENDIENTES DE APROBACIÓN EN LOS DIAS CORRESPONDIENTES
- Vista mensual (contador de lugares libres)
- Filtrar por fecha
- Ver detalles de cada reserva
- Redirige a editar reserva
- Botón para crear nueva reserva
- Botón para volver al panel de administración
- Botón para cerrar sesión
-->


<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <base href="/Proyecto_Integrador_PW2025/FutMatch/" /> <!--Prefijo para evitar que las rutas relativas sean muy largas-->
  
  <title>FutMatch</title>
  <title>FutMatch</title>

  <!-- Bootstrap -->
  <link rel="stylesheet" href="public/assets/css/bootstrap.min.css" />
  <link rel="stylesheet" href="public/assets/css/bootstrap.min.css" />

  <!-- Fuente -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;800&display=swap" rel="stylesheet" />

  <!-- Estilos propios -->
  <link rel="stylesheet" href="src/styles/style.css" /> <!--cambiar por style especifico si corresponde-->
</head>

<body>
  <!-- HEADER -->
  <header class="navbar navbar-expand">
    <div class="container-fluid gap-2">
      <button class="btn btn-outline-light d-lg-none" data-bs-toggle="offcanvas" data-bs-target="#offcanvasSidebar" aria-label="Abrir panel">
        <i class="bi bi-layout-sidebar-inset"></i>
      </button>

      <a class="navbar-brand d-flex align-items-center gap-2 m-0 text-white" href="#">
        <i class="bi bi-calendar3 fs-4 text-primary"></i>
        <span class="fw-800">AGENDA</span>
      </a>

      <div class="d-flex align-items-center mx-auto gap-2">
        <button id="btnPrev" class="btn btn-outline-light" title="Mes anterior" aria-label="Mes anterior">
          <i class="bi bi-chevron-left"></i>
        </button>
        <div id="currentPeriod" class="fs-6 fw-600 text-nowrap text-white-50"></div>
        <button id="btnNext" class="btn btn-outline-light" title="Mes siguiente" aria-label="Mes siguiente">
          <i class="bi bi-chevron-right"></i>
        </button>
        <button id="btnToday" class="btn btn-success ms-2">Hoy</button>
      </div>

      <div class="d-flex align-items-center gap-2">
        <button class="btn btn-outline-light" title="Configuración" aria-label="Configuración">
          <i class="bi bi-gear"></i>
        </button>
        <div class="btn-group" role="group" aria-label="Selector de vista">
          <input type="radio" class="btn-check" name="viewMode" id="viewMonth" value="month" checked>
          <label class="btn btn-outline-light" for="viewMonth">Mes</label>

          <input type="radio" class="btn-check" name="viewMode" id="viewWeek" value="week">
          <label class="btn btn-outline-light" for="viewWeek">Semana</label>

          <input type="radio" class="btn-check" name="viewMode" id="viewDay" value="day">
          <label class="btn btn-outline-light" for="viewDay">Día</label>
        </div>
      </div>
    </div>
  </header>

  <!-- SHELL -->
  <div class="app-shell container-fluid">
    <div class="row h-100">
      <!-- Sidebar (>= lg) -->
      <aside class="col-lg-3 col-xl-2 sidebar p-3">
        <div class="sidebar-inner">
          <!-- 1) Selector de cancha -->
          <div class="mb-3 card-action p-3">
            <label for="selCancha" class="form-label fw-600">Cancha</label>
            <select id="selCancha" class="form-select">
              <option value="all">Todas las canchas</option>
              <option value="c1">Cancha 1 (Sintética)</option>
              <option value="c2">Cancha 2 (Césped)</option>
              <option value="c3">Cancha 3 (Indoor)</option>
            </select>
            <a href="#" class="link-cancha" title="Ver gestor de canchas">Ir al gestor de canchas</a>
          </div>

          <!-- 2) Botón crear reserva -->
          <div class="d-grid mb-3">
            <button class="btn btn-success btn-lg" data-bs-toggle="modal" data-bs-target="#modalReserva">
              <i class="bi bi-plus-lg me-1"></i> Crear reserva
            </button>
          </div>

          <!-- 3) Mini calendario -->
          <div class="card-action mb-3">
            <div class="card-header py-2 d-flex align-items-center justify-content-between">
              <span class="fw-600">Calendario</span>
              <div class="btn-group btn-group-sm">
                <button id="miniPrev" class="btn btn-outline-light" aria-label="Prev mini">
                  <i class="bi bi-chevron-left"></i>
                </button>
                <button id="miniNext" class="btn btn-outline-light" aria-label="Next mini">
                  <i class="bi bi-chevron-right"></i>
                </button>
              </div>
            </div>
            <div class="card-body mini-cal">
              <div class="text-center fw-600 mb-2 text-white-50" id="miniCaption">Mes Año</div>
              <table class="table table-sm mb-0 align-middle text-white-50">
                <thead>
                  <tr class="text-muted">
                    <th>Lu</th><th>Ma</th><th>Mi</th><th>Ju</th><th>Vi</th><th>Sa</th><th>Do</th>
                  </tr>
                </thead>
                <tbody id="miniBody"><!-- JS --></tbody>
              </table>
            </div>
          </div>

          <!-- 4) Gestionar solicitudes -->
          <div class="d-grid">
            <button class="btn btn-outline-primary d-flex align-items-center justify-content-between">
              <span><i class="bi bi-inbox me-1"></i> Gestionar solicitudes</span>
              <span class="badge text-bg-danger" id="badgeSolicitudes">3</span>
            </button>
          </div>
        </div>
      </aside>

      <!-- Offcanvas (mobile) -->
      <div class="offcanvas offcanvas-start text-white" tabindex="-1" id="offcanvasSidebar" aria-labelledby="offcanvasSidebarLabel" style="background: #121212;">
        <div class="offcanvas-header">
          <h5 class="offcanvas-title" id="offcanvasSidebarLabel"><i class="bi bi-calendar3 me-2"></i>AGENDA</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Cerrar"></button>
        </div>
        <div class="offcanvas-body">
          <div class="mb-3">
            <label for="selCanchaMobile" class="form-label fw-600">Cancha</label>
            <select id="selCanchaMobile" class="form-select">
              <option value="all">Todas las canchas</option>
              <option value="c1">Cancha 1 (Sintética)</option>
              <option value="c2">Cancha 2 (Césped)</option>
              <option value="c3">Cancha 3 (Indoor)</option>
            </select>
          </div>

          <div class="d-grid mb-3">
            <button class="btn btn-success" data-bs-toggle="modal" data-bs-target="#modalReserva">
              <i class="bi bi-plus-lg me-1"></i> Crear reserva
            </button>
          </div>

          <div class="card-action mb-3">
            <div class="card-header py-2 d-flex align-items-center justify-content-between">
              <span class="fw-600">Calendario</span>
              <div class="btn-group btn-group-sm">
                <button id="miniPrevMobile" class="btn btn-outline-light" aria-label="Prev mini">
                  <i class="bi bi-chevron-left"></i>
                </button>
                <button id="miniNextMobile" class="btn btn-outline-light" aria-label="Next mini">
                  <i class="bi bi-chevron-right"></i>
                </button>
              </div>
            </div>
            <div class="card-body mini-cal">
              <div class="text-center fw-600 mb-2 text-white-50" id="miniCaptionMobile">Mes Año</div>
              <table class="table table-sm mb-0 align-middle text-white-50">
                <thead>
                  <tr class="text-muted">
                    <th>Lu</th><th>Ma</th><th>Mi</th><th>Ju</th><th>Vi</th><th>Sa</th><th>Do</th>
                  </tr>
                </thead>
                <tbody id="miniBodyMobile"><!-- JS --></tbody>
              </table>
            </div>
          </div>

          <div class="d-grid">
            <button class="btn btn-outline-primary d-flex align-items-center justify-content-between">
              <span><i class="bi bi-inbox me-1"></i> Gestionar solicitudes</span>
              <span class="badge text-bg-danger">3</span>
            </button>
          </div>
        </div>
      </div>

      <!-- Main -->
      <main class="col-lg-9 col-xl-10 p-3">
        <div class="calendar-grid" id="calendarGrid" aria-live="polite" aria-busy="false"><!-- JS --></div>
      </main>
    </div>
  </div>

  <!-- Modal Crear Reserva -->
  <div class="modal fade" id="modalReserva" tabindex="-1" aria-labelledby="modalReservaLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable">
      <div class="modal-content" style="background:#121212;">
        <div class="modal-header border-0">
          <h5 class="modal-title" id="modalReservaLabel"><i class="bi bi-plus-lg me-2"></i>Nueva reserva</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Cerrar"></button>
        </div>
        <div class="modal-body">
          <form id="frmReserva" class="row g-3">
            <div class="col-12">
              <label class="form-label">Cancha</label>
              <select class="form-select" required>
                <option value="c1">Cancha 1 (Sintética)</option>
                <option value="c2">Cancha 2 (Césped)</option>
                <option value="c3">Cancha 3 (Indoor)</option>
              </select>
            </div>
            <div class="col-md-6">
              <label class="form-label">Fecha</label>
              <input type="date" class="form-control" required>
            </div>
            <div class="col-md-3">
              <label class="form-label">Desde</label>
              <input type="time" class="form-control" required>
            </div>
            <div class="col-md-3">
              <label class="form-label">Hasta</label>
              <input type="time" class="form-control" required>
            </div>
            <div class="col-12">
              <label class="form-label">Notas</label>
              <textarea class="form-control" rows="2" placeholder="Opcional"></textarea>
            </div>
          </form>
        </div>
        <div class="modal-footer border-0">
          <button class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
          <button class="btn btn-primary">Guardar</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="assets/js/bootstrap.bundle.min.js"></script>
  <script src="script.js"></script>
</body>
</html>



